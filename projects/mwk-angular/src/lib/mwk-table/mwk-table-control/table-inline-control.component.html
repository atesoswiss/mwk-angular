<ng-container *ngIf="isPreview; else editMode">
  <ng-container [ngSwitch]="inputType">
    <ng-container *ngSwitchDefault>{{inlineControlData.data[controlName]}}</ng-container>
    <ng-container
      *ngSwitchCase="InlineControlInputType.USER">{{inlineControlData?.data[displayControlName]}}</ng-container>
    <ng-container
      *ngSwitchCase="InlineControlInputType.DATE">{{inlineControlData.data[controlName] | date:'dd.MM.yyyy'}}</ng-container>
    <ng-container
      *ngSwitchCase="InlineControlInputType.DATE_FUTURE">{{inlineControlData.data[controlName] | date:'dd.MM.yyyy'}}</ng-container>
    <ng-container *ngSwitchCase="InlineControlInputType.SELECT">{{optionLabel | translate}}</ng-container>
    <ng-container *ngSwitchCase="InlineControlInputType.SEARCH_SELECT">{{optionLabel | translate}}</ng-container>
    <ng-container *ngSwitchCase="InlineControlInputType.TREE">{{treeLabel}}</ng-container>
  </ng-container>
</ng-container>
<ng-template #editMode>
  <form [formGroup]="inlineControlData.fromGroup" class="mt-3">
    <ng-container [ngSwitch]="inputType">
      <ng-container *ngSwitchDefault>
        <mat-form-field class="inline-form-field" [style.width.px]="fixedInputWidth">
          <input matInput [formControlName]="controlName">
          <mat-error [uiFormControlValidation]="inlineControlData.fromGroup.get(controlName)"></mat-error>
        </mat-form-field>
      </ng-container>
      <ng-container *ngSwitchCase="InlineControlInputType.TEXTAREA">
        <mat-form-field class="inline-form-field" [style.width.px]="fixedInputWidth">
          <textarea matInput cdkTextareaAutosize [formControlName]="controlName"></textarea>
          <mat-error [uiFormControlValidation]="inlineControlData.fromGroup.get(controlName)"></mat-error>
        </mat-form-field>
      </ng-container>
      <ng-container *ngSwitchCase="InlineControlInputType.NUMBER">
        <mat-form-field class="inline-form-field" [style.width.px]="fixedInputWidth">
          <input matInput type="number" inputmode="numeric" [formControlName]="controlName">
          <mat-error [uiFormControlValidation]="inlineControlData.fromGroup.get(controlName)"></mat-error>
        </mat-form-field>
      </ng-container>
      <ng-container *ngSwitchCase="InlineControlInputType.USER">
        <ui-remote-search-select
          [control]="inlineControlData.fromGroup.get(controlName)"
          [labeledPreSelection]="inlineControlData?.data[displayControlName]"
          [remoteSearchType]="RemoteSearchSelectType.USERS"
          (selectionDataChange)="selectionDataChange.emit($event)"
        >
        </ui-remote-search-select>
      </ng-container>
      <ng-container *ngSwitchCase="InlineControlInputType.DATE">
        <mat-form-field class="inline-form-field" [style.width.px]="fixedInputWidth">
          <input matInput [matDatepicker]="picker" inputmode="numeric" [formControlName]="controlName">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker touchUi #picker></mat-datepicker>
          <mat-error [uiFormControlValidation]="inlineControlData.fromGroup.get(controlName)"></mat-error>
        </mat-form-field>
      </ng-container>
      <ng-container *ngSwitchCase="InlineControlInputType.DATE_FUTURE">
        <mat-form-field class="inline-form-field" [style.width.px]="fixedInputWidth">
          <input matInput [matDatepicker]="picker" inputmode="numeric" [formControlName]="controlName" datepickerFuture>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker touchUi #picker></mat-datepicker>
          <mat-error [uiFormControlValidation]="inlineControlData.fromGroup.get(controlName)"></mat-error>
        </mat-form-field>
      </ng-container>
      <ng-container *ngSwitchCase="InlineControlInputType.SELECT">
        <mat-form-field class="inline-form-field" [style.width.px]="fixedInputWidth">
          <mat-select [formControlName]="controlName">
            <mat-option *ngFor="let option of inlineControlData.options" [value]="option.Value">
              {{option.Label | translate}}
            </mat-option>
          </mat-select>
          <mat-error [uiFormControlValidation]="inlineControlData.fromGroup.get(controlName)"></mat-error>
        </mat-form-field>
      </ng-container>
    </ng-container>
  </form>
</ng-template>
